(this["webpackJsonpreminder-app"]=this["webpackJsonpreminder-app"]||[]).push([[0],{209:function(e,t,n){},244:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);n(209);var c=n(26),r=n(7),a=n(22),i=n(13),s=n.n(i),o=n(19),u=n(0),l=n(141),j=n(115),d=n(1),b=function e(t,n,c){for(var a=function(){var c=Object(r.a)(s[i],2),a=c[0],o=c[1],u=Object.prototype.toString.call(o);if("[object Function]"===u)t[a]=function(){return n(o.apply(void 0,arguments))};else{if("[object Object]"!==u)throw new Error("Unexpected action '".concat(a,"' (").concat(u,"). Only accpect types object and function."));t[a]={},e(t[a],n,o)}},i=0,s=Object.entries(c);i<s.length;i++)a()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(l.a)(),c=Object(u.createContext)(),a=Object(u.createContext)(),i=function(i){var s=i.children,o=i.initState,l=void 0===o?e:o,h=Object(u.useReducer)(j.b,l),O=Object(r.a)(h,2),p=O[0],x=O[1],f=Object(u.useRef)(null);return null===f.current&&(f.current={},b(f.current,x,t)),Object(d.jsx)(n.Provider,{value:p,children:Object(d.jsx)(c.Provider,{value:x,children:Object(d.jsx)(a.Provider,{value:f.current,children:s})})})};return{Provider:i,useState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Object(l.b)(n,e)},useDispatch:function(){return Object(u.useContext)(c)},useAction:function(){return Object(u.useContext)(a)}}},O=n(47);n(249),n(215),n(250),n(248);O.a.initializeApp({apiKey:"AIzaSyB0K7kobBNLcK3zqbuRxFS8epP6KtvLns0",authDomain:"reminder-app-95837.firebaseapp.com",projectId:"reminder-app-95837",storageBucket:"reminder-app-95837.appspot.com",messagingSenderId:"405021844080",appId:"1:405021844080:web:b7278fab45891c9b8c4ab5",measurementId:"G-0DTTR6ZL70"}),O.a.analytics();var p=h({isInitializing:!0,isLogin:!1,user:{uid:"",email:"",creationTime:""},doc:{},collection:["client","product","inventory","purchase"].reduce((function(e,t){return e[t]={isLoading:!0,list:[]},e}),{})});p.useSubscribeAuthStateChanged=function(){var e=p.useDispatch();Object(u.useEffect)((function(){var t=!0;return O.a.auth().onAuthStateChanged(function(){var n=Object(o.a)(s.a.mark((function n(c){var r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,null===c||void 0===c?void 0:c.getIdTokenResult();case 4:r=n.sent,a=!!c,e((function(e){var t,n;e.isInitializing=!1,e.isLogin=a,e.user.uid=a?c.uid:"",e.user.email=a?c.email:"",e.user.creationTime=a?null===(t=c.metadata)||void 0===t?void 0:t.creationTime:"",e.user.expirationDate=null===r||void 0===r||null===(n=r.claims)||void 0===n?void 0:n.expiration_date}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),function(){t=!1}}),[e])},p.login=function(e,t){return O.a.auth().signInWithEmailAndPassword(e,t)},p.logout=function(){return O.a.auth().signOut()},p.signup=function(){var e=Object(o.a)(s.a.mark((function e(t,n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.auth().createUserWithEmailAndPassword(t,n);case 2:return c=e.sent,e.next=5,O.a.firestore().collection("user").doc(c.user.uid).set({email:c.user.email});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p.sendPasswordResetEmail=function(e){return O.a.auth().sendPasswordResetEmail(e)},p.useSubscribeCollection=function(e){var t=p.useState((function(e){return e.isLogin})),n=p.useState((function(e){return e.user.uid})),c=p.useDispatch();Object(u.useEffect)((function(){var r=!0;if(t)return c((function(t){t.collection[e].isLoading=!0})),O.a.firestore().collection("user").doc(n).collection(e).onSnapshot((function(t){r&&c((function(n){var c=t.docs.map((function(e){return Object(a.a)({id:e.id},e.data())}));n.collection[e]={isLoading:!1,list:c},c.forEach((function(e){n.doc[e.id]=e}))}))}),(function(e){console.log(e.message)})),function(){r=!1}}),[c,n,t,e])},p.useCollection=function(e){return p.useState((function(t){return t.collection[e]}))},p.useDocument=function(){var e=p.useState((function(e){return e.doc}));return function(t){return e.hasOwnProperty(t)||console.warn("document '".concat(t,"' does not exist")),e[t]}},p.useIsLoading=function(){var e=p.useState((function(e){return e.collection})),t=!1;for(var n in e)t|=e[n].isLoading;return t},p.batch=function(){return O.a.firestore().batch()},p.collection=function(e){return O.a.firestore().collection("user").doc(O.a.auth().currentUser.uid).collection(e)},p.firebase=O.a;var x=p,f=n(83),m=n(142),v=n.n(m),g={catalogList:[["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413726","ageLOC Me\xae"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413727","ageLOC\xae LumiSpa\xae"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413728","ageLOC\xae \u500b\u4eba\u4fdd\u990a\u54c1"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413736","ageLOC\xae Nutriol\xae \u8ce6\u6d3b\u7cbe\u8403\u8c50\u76c8"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413729","\u81c9\u90e8\u57fa\u790e\u4fdd\u990a\u54c1"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413730","\u9031\u671f\u7cbe\u83ef\u4fdd\u990a"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413731","\u7005\u767d\u4e09\u6548\u4fdd\u990a"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413732","\u6de8\u819a\u6297\u75d8\u8abf\u7406"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413733","Tru Face\xae \u6d3b\u984f\u6297\u8001\u4fdd\u990a"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413734","Epoch\u751f\u6d3b\u7d14\u54c1"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413735","\u8eab\u9ad4\u7f8e\u819a\u4fdd\u990a"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413737","\u54c1\u5473\u7537\u58eb"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413738","\u5982\u7d72\u7f8e\u9aee\u990a\u8b77"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413739","\u66ec\u9e97\u52fb\u8277\u967d\u9632\u66ec"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413740","\u53e3\u8154\u4fdd\u5065"],["\u500b\u4eba\u4fdd\u990a\u54c1","1174412216806413741","Nu Colour\xae \u8b77\u819a\u5f69\u599d"],["\u71df\u990a\u88dc\u5145\u54c1","1174412216806413743","ageLOC\xae TR90\u2122"],["\u71df\u990a\u88dc\u5145\u54c1","1174412216806413744","ageLOC\xae YOUTHSPAN\xae"],["\u71df\u990a\u88dc\u5145\u54c1","1174412216806413745","ageLOC\xae R\xb2"],["\u71df\u990a\u88dc\u5145\u54c1","1174412216806413746","\u57fa\u790e\u71df\u990a"],["\u71df\u990a\u88dc\u5145\u54c1","1174412216806413747","\u81ea\u6211\u4fdd\u5065"],["\u71df\u990a\u88dc\u5145\u54c1","1218692068953741437","\u7cbe\u9078\u5957\u88dd"],["\u71df\u990a\u88dc\u5145\u54c1","1218692115981327441","\u8f14\u92b7\u54c1\u5c08\u5340"],["\u71df\u990a\u88dc\u5145\u54c1","1248725323423581208","\u5152\u7ae5\u71df\u990a"]],catalogProductList:[]},w=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===g.catalogList.length){e.next=2;break}return e.abrupt("return",g.catalogList.map((function(e){return{header:e[0],id:e[1],name:e[2]}})));case 2:return"https://www.nuskin.com.tw/services/get_header_tw.5.json",e.next=5,v.a.get("https://www.nuskin.com.tw/services/get_header_tw.5.json");case 5:return t=e.sent,n=t.data.items.header.categoryNavigationItems[0].items,c=n.find((function(e){return"\u500b\u4eba\u4fdd\u990a\u54c1"===e.linkText})).items.find((function(e){return"\u7cfb\u5217"===e.linkText})).items.filter((function(e){var t=e.linkText;return"\u7cbe\u9078\u5957\u88dd"!==t&&"\u8f14\u92b7\u54c1\u5c08\u5340"!==t})).map((function(e){return{header:"\u500b\u4eba\u4fdd\u990a\u54c1",name:e.linkText,id:e.categoryId}})),r=n.find((function(e){return"\u71df\u990a\u88dc\u5145\u54c1"===e.linkText})).items.find((function(e){return"\u7cfb\u5217"===e.linkText})).items.map((function(e){return{header:"\u71df\u990a\u88dc\u5145\u54c1",name:e.linkText,id:e.categoryId}})),e.abrupt("return",c.concat(r));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.header===t})).map((function(e){return e.name})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.nuskin.com.tw/nuskin-tw-trade-application/api/v1/nuskin/search/item/search",n="".concat("https://www.nuskin.com.tw/nuskin-tw-trade-application/api/v1/nuskin/search/item/search","?pageNum=1&pageSize=100&catalogId=").concat(t.id),e.next=4,v.a.get(n);case 4:return c=e.sent,e.abrupt("return",c.data.data.itemVos.list.map((function(e){return{id:e.itemId,name:e.itemName,price:e.itemPrice[0].salePrice,img:e.absolutePathItemImage,catalog:t}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,c,r,a,i,o,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,Promise.all(t.map(I));case 5:n=e.sent,c=new Map,r=Object(f.a)(n);try{for(r.s();!(a=r.n()).done;){i=a.value,o=Object(f.a)(i);try{for(o.s();!(u=o.n()).done;)l=u.value,c.set(l.id,l)}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return e.abrupt("return",Array.from(c.values()));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===g.catalogProductList.length){e.next=2;break}return e.abrupt("return",g.catalogProductList);case 2:return e.next=4,w();case 4:return t=e.sent,e.next=7,Promise.all(t.map(I));case 7:for(n=e.sent,c=0;c<t.length;c++)t[c].catalog=t[c].name,t[c].productList=n[c],delete t[c].id,delete t[c].name;return g.catalogProductList=t,e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D={getHeaderList:function(){return["\u500b\u4eba\u4fdd\u990a\u54c1","\u71df\u990a\u88dc\u5145\u54c1"]},getCatalogListByHeader:y,getFilteredProductList:function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,c,r,a,i,o,u,l,j,d,b,h,O=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.length>0&&void 0!==O[0]?O[0]:{},n=t.header,c=void 0===n?"":n,r=t.catalog,a=void 0===r?"":r,""!==c||""!==a){e.next=3;break}return e.abrupt("return",C());case 3:return e.next=5,k();case 5:if(i=e.sent,""===c||""!==a){e.next=28;break}o=new Map,u=Object(f.a)(i),e.prev=9,u.s();case 11:if((l=u.n()).done){e.next=19;break}if((j=l.value).header===c){e.next=15;break}return e.abrupt("continue",17);case 15:d=Object(f.a)(j.productList);try{for(d.s();!(b=d.n()).done;)h=b.value,o.set(h.id,h)}catch(s){d.e(s)}finally{d.f()}case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),u.e(e.t0);case 24:return e.prev=24,u.f(),e.finish(24);case 27:return e.abrupt("return",Array.from(o.values()));case 28:if(""===c||""===a){e.next=30;break}return e.abrupt("return",i.find((function(e){return e.header===c&&e.catalog===a})).productList);case 30:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(){return e.apply(this,arguments)}}()},S=function(){!function(){var e=x.useDispatch();Object(u.useEffect)((function(){var t=!0;return e((function(e){e.collection.product.isLoading=!0})),D.getFilteredProductList().then((function(n){t&&e((function(e){e.collection.product={list:n,isLoading:!1},n.forEach((function(t){e.doc[t.id]=t}))}))})).catch((function(n){console.log(n),t&&e((function(e){e.collection.product.isLoading=!1}))})),function(){t=!1}}),[e])}(),x.useSubscribeAuthStateChanged(),x.useSubscribeCollection("client"),x.useSubscribeCollection("purchase"),x.useSubscribeCollection("inventory"),function(){var e=Object(c.g)(),t=Object(c.h)().pathname,n=x.useState((function(e){return[!e.isInitializing,e.isLogin]})),a=Object(r.a)(n,2),i=a[0],s=a[1],o=!["/login","/signup","/forget_password"].includes(t);Object(u.useEffect)((function(){i&&o&&!s&&e.push("/login"),i&&!o&&s&&e.push("/clients")}),[e,i,o,s,t])}()},P=n(76),L=n(261),N=n(146),A=n(86),R=n(251),E=n(255),T=function(e){var t=e.open,n=void 0===t||t;return Object(d.jsx)(R.a,{style:{zIndex:999},open:n,children:Object(d.jsx)(E.a,{color:"inherit"})})},z=function(e){return{"auth/invalid-email":"\u6b64\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4","auth/user-disabled":"\u6b64\u7528\u6236\u5df2\u88ab\u505c\u7528","auth/user-not-found":"\u6b64\u7528\u6236\u4e0d\u5b58\u5728","auth/wrong-password":"\u5bc6\u78bc\u932f\u8aa4"}[e.code]||"".concat(e.code,": ").concat(e.message)},F=function(){var e=Object(c.g)(),t=Object(u.useState)(""),n=Object(r.a)(t,2),a=n[0],i=n[1],l=Object(u.useState)(""),j=Object(r.a)(l,2),b=j[0],h=j[1],O=Object(u.useState)(!1),p=Object(r.a)(O,2),f=p[0],m=p[1],v=Object(u.useState)({code:"",message:""}),g=Object(r.a)(v,2),w=g[0],y=g[1],I=function(e){return function(t){y({code:"",message:""}),e(t.target.value)}};return Object(d.jsxs)("form",{style:{textAlign:"center",padding:"10px"},onSubmit:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.next=4,x.login(a,b).catch(y);case 4:m(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(d.jsx)(T,{open:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(A.a,{variant:"h3",gutterBottom:!0,children:"Reminder"}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"email",type:"email",label:"\u4fe1\u7bb1",variant:"outlined",InputLabelProps:{shrink:!0},onChange:I(i),error:/email/.test(w.code)}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"password",type:"password",label:"\u5bc6\u78bc",variant:"outlined",InputLabelProps:{shrink:!0},onChange:I(h),error:/password/.test(w.code)}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),w.code&&Object(d.jsx)(L.a,{error:!0,children:z(w)}),w.code&&Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"unauth-buttons",children:[Object(d.jsx)(P.a,{size:"large",color:"primary",onClick:function(){return e.push("/signup")},children:"\u8a3b\u518a\u65b0\u5e33\u865f"}),Object(d.jsx)(P.a,{size:"large",color:"primary",onClick:function(){return e.push("/forget_password")},children:"\u5fd8\u8a18\u5bc6\u78bc"}),Object(d.jsx)(P.a,{variant:"contained",size:"large",type:"submit",color:"primary",disabled:""===a||""===b,children:"\u767b\u5165"})]})]})},B=function(e){return{"auth/invalid-email":"\u6b64\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4","auth/email-already-in-use":"\u6b64\u4fe1\u7bb1\u5df2\u7d93\u88ab\u4f7f\u7528","auth/weak-password":"\u5bc6\u78bc\u81f3\u5c11\u8981\u516d\u500b\u5b57\u5143"}[e.code]||"".concat(e.code,": ").concat(e.message)},q=function(){var e=Object(c.g)(),t=Object(u.useState)(""),n=Object(r.a)(t,2),a=n[0],i=n[1],l=Object(u.useState)(""),j=Object(r.a)(l,2),b=j[0],h=j[1],O=Object(u.useState)(""),p=Object(r.a)(O,2),f=p[0],m=p[1],v=Object(u.useState)(!1),g=Object(r.a)(v,2),w=g[0],y=g[1],I=Object(u.useState)({code:"",message:""}),C=Object(r.a)(I,2),k=C[0],D=C[1],S=""!==b&&""!==f&&b!==f,R=function(e){return function(t){D({code:"",message:""}),e(t.target.value)}};return Object(d.jsxs)("form",{style:{textAlign:"center",padding:"10px"},onSubmit:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.next=4,x.signup(a,b).catch(D);case 4:y(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(d.jsx)(T,{open:w}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(A.a,{variant:"h3",gutterBottom:!0,children:"Reminder"}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"email",type:"email",label:"\u4fe1\u7bb1",variant:"outlined",InputLabelProps:{shrink:!0},onChange:R(i),error:/email/.test(k.code)}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"password",type:"password",label:"\u5bc6\u78bc",variant:"outlined",InputLabelProps:{shrink:!0},onChange:R(h),error:/password/.test(k.code)}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"confirm-password",type:"password",label:"\u78ba\u8a8d\u5bc6\u78bc",variant:"outlined",InputLabelProps:{shrink:!0},onChange:R(m),error:S,helperText:S&&"\u5bc6\u78bc\u5fc5\u9808\u76f8\u540c"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),k.code&&Object(d.jsx)(L.a,{error:!0,children:B(k)}),k.code&&Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"unauth-buttons",children:[Object(d.jsx)(P.a,{size:"large",color:"primary",onClick:function(){return e.push("/login")},children:"\u56de\u5230\u767b\u5165\u9801\u9762"}),Object(d.jsx)(P.a,{variant:"contained",size:"large",type:"submit",color:"primary",disabled:""===a||""===b||b!==f,children:"\u8a3b\u518a"})]})]})},_=n(66),G=n.n(_),H=n(299),M=n(300),U=n(301),V=n(87),Y=function(e){return{"auth/invalid-email":"\u6b64\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4","auth/user-not-found":"\u67e5\u7121\u6b64\u4f7f\u7528\u8005","auth/too-many-requests":"\u8acb\u7a0d\u5f8c\u518d\u8a66"}[e.code]||"".concat(e.code,": ").concat(e.message)};function K(e){var t=e.open,n=e.onClose;return Object(d.jsx)(H.a,{open:t,onClose:n,children:Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u5bc4\u9001\u6210\u529f"})]})})})}var $=function(){var e,t=Object(c.g)(),n=Object(u.useState)(""),a=Object(r.a)(n,2),i=a[0],l=a[1],j=Object(u.useState)(!1),b=Object(r.a)(j,2),h=b[0],O=b[1],p=Object(u.useState)({code:"",message:""}),f=Object(r.a)(p,2),m=f[0],v=f[1],g=Object(u.useState)(!1),w=Object(r.a)(g,2),y=w[0],I=w[1];return Object(d.jsxs)("form",{style:{textAlign:"center",padding:"10px"},onSubmit:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),e.next=4,x.sendPasswordResetEmail(i).then((function(){I(!0)})).catch(v);case 4:O(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(d.jsx)(K,{open:y,onClose:function(){return I(!1)}}),Object(d.jsx)(T,{open:h}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(A.a,{variant:"h3",gutterBottom:!0,children:"Reminder"}),Object(d.jsx)(N.a,{style:{width:"100%"},name:"email",type:"email",label:"\u4fe1\u7bb1",variant:"outlined",InputLabelProps:{shrink:!0},onChange:(e=l,function(t){v({code:"",message:""}),e(t.target.value)}),error:/email/.test(m.code)}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),m.code&&Object(d.jsx)(L.a,{error:!0,children:Y(m)}),m.code&&Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"unauth-buttons",children:[Object(d.jsx)(P.a,{size:"large",color:"primary",onClick:function(){return t.push("/login")},children:"\u56de\u5230\u767b\u5165\u9801\u9762"}),Object(d.jsx)(P.a,{variant:"contained",size:"large",type:"submit",color:"primary",disabled:""===i,children:"\u91cd\u8a2d\u5bc6\u78bc\u90f5\u4ef6"})]})]})},J=n(321),W=n(260),Z=n(262),Q=n(304),X=n(305),ee=n(124),te=n.n(ee),ne=h({client:{searchInput:"",showAddDialog:!1,showDeleteDialog:!1,showEditDialog:!1,order:{orderList:[],searchProductIntput:"",selectedProductItems:{}}},productPage:{searchInput:"",selectedItems:{}},addInventoryDialog:{show:!1},addPurchaseDialog:{show:!1},subscriptionRuleDialog:{show:!1},bottomNavigation:{index:0}},{client:{setSearchInput:function(e){return function(t){t.client.searchInput=e.toLowerCase()}},showAddDialog:function(e){return function(t){t.client.showAddDialog=e}},showEditDialog:function(e){return function(t){t.client.showEditDialog=e}},showDeleteDialog:function(e){return function(t){t.client.showDeleteDialog=e}}},product:{setSearchInput:function(e){return function(t){t.productPage.searchInput=e.toLowerCase()}},toggleProduct:function(e){return function(t){t.productPage.selectedItems.hasOwnProperty(e.id)?delete t.productPage.selectedItems[e.id]:t.productPage.selectedItems[e.id]=!0}},clearSelectedProducts:function(){return function(e){e.productPage.selectedItems={}}}},changeBottomNavigationIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){t.bottomNavigation.index=e}},showAddInventoryDialog:function(e){return function(t){t.addInventoryDialog.show=e}},showAddPurchaseDialog:function(e){return function(t){t.addPurchaseDialog.show=e}},showSubscriptionRuleDialog:function(e){return function(t){t.subscriptionRuleDialog.show=e}}}),ce=n(302),re=n(303),ae=n(175),ie=n.n(ae),se=n(173),oe=n.n(se),ue=n(174),le=n.n(ue),je=[["/clients","\u5ba2\u6236",oe.a],["/reminder","\u8cfc\u8cb7\u63d0\u9192",le.a],["/account","\u6703\u54e1\u5e33\u865f",ie.a]].map((function(e){var t=Object(r.a)(e,3);return{pathname:t[0],label:t[1],icon:t[2]}})),de=function(){var e=ne.useAction();!function(e){var t=Object(c.h)().pathname;Object(u.useEffect)((function(){var n=je.findIndex((function(e){return e.pathname===t}));e.changeBottomNavigationIndex(-1===n?0:n)}),[e,t])}(e);var t=ne.useState((function(e){return e.bottomNavigation})),n=Object(c.g)();return Object(d.jsx)(ce.a,{showLabels:!0,value:t.index,onChange:function(t,c){e.changeBottomNavigationIndex(c);var r=je[c]||je[0];n.push(r.pathname)},children:je.map((function(e,t){return Object(d.jsx)(re.a,{label:e.label,icon:Object(d.jsx)(e.icon,{})},t)}))})},be=n(25),he=n(169),Oe=n(16),pe=n(132),xe=n(176),fe=n.n(xe),me=Object(he.a)((function(e){return{search:Object(be.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Oe.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Oe.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(be.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function ve(e){var t=e.searchInput,n=e.onChange,c=me();return Object(d.jsxs)("div",{className:c.search,children:[Object(d.jsx)("div",{className:c.searchIcon,children:Object(d.jsx)(fe.a,{})}),Object(d.jsx)(pe.a,{autoFocus:!0,placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},value:t,onChange:n})]})}var ge=function(e){var t=e.client,n=e.purchase,a=Object(c.g)(),i=n.list.filter((function(e){return e.clientId===t.id})).map((function(e){return e.purchaseDate})).sort((function(e,t){return e<t?1:e>t?-1:0})),s=Object(r.a)(i,1)[0],o=void 0===s?"\u7121":s,u=t.birth?" (".concat(t.birth,")"):"";return Object(d.jsxs)(Z.a,{button:!0,onClick:function(){return a.push("/clients/"+t.id)},children:[Object(d.jsx)(Q.a,{children:Object(d.jsx)(J.a,{})}),Object(d.jsx)(X.a,{primary:t.lastName+t.firstName+u,secondary:"\u6700\u5f8c\u8cfc\u8cb7\u65e5\u671f\uff1a"+o})]})},we=function(){var e=ne.useAction(),t=x.useCollection("client"),n=x.useCollection("purchase"),c=ne.useState((function(e){return e.client.searchInput}));if(x.useIsLoading())return Object(d.jsx)(T,{});var r=t.list.filter((function(e){return(e.lastName+e.firstName).toLowerCase().includes(c)})).map((function(e){return Object(d.jsx)(ge,{client:e,purchase:n},e.id)}));return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(ve,{searchInput:c,onChange:function(t){return e.client.setSearchInput(t.target.value)}}),Object(d.jsx)("div",{style:{flexGrow:1}}),Object(d.jsx)(V.a,{color:"inherit",onClick:function(){return e.client.showAddDialog(!0)},children:Object(d.jsx)(te.a,{})})]})}),Object(d.jsx)("div",{className:"panel-content",children:Object(d.jsx)(W.a,{children:r})}),Object(d.jsx)(de,{})]})},ye=n(306),Ie=function(e){var t=document.createElement("button");t.type="submit",t.style.display="none",e.appendChild(t),t.click(),t.remove()},Ce=function(e){var t=e.getFullYear(),n=e.getMonth()+1;n<10&&(n="0"+n);var c=e.getDate();return c<10&&(c="0"+c),"".concat(t,"-").concat(n,"-").concat(c)},ke=Object(u.forwardRef)((function(e,t){return Object(d.jsx)(ye.a,Object(a.a)({direction:"up",ref:t},e))})),De={lastName:"",firstName:"",phone:"",email:"",city:"",birth:"",note:""},Se=function(){var e=ne.useAction(),t=Object(u.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],l=ne.useState((function(e){return e.client.showAddDialog})),j=Object(u.useRef)(null),b=Object(u.useState)(De),h=Object(r.a)(b,2),O=h[0],p=h[1],f=function(e){p(Object(a.a)(Object(a.a)({},O),{},Object(be.a)({},e.target.name,e.target.value)))},m=function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(!0),t.next=4,x.collection("client").add(O);case 4:p(De),i(!1),e.client.showAddDialog(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(H.a,{fullScreen:!0,open:l,onClose:function(){return e.client.showAddDialog(!1)},TransitionComponent:ke,children:[Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{edge:"start",color:"inherit",onClick:function(){return e.client.showAddDialog(!1)},"aria-label":"close",children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u65b0\u589e\u5ba2\u6236"}),Object(d.jsx)(P.a,{autoFocus:!0,color:"inherit",onClick:function(){return Ie(j.current)},children:"\u65b0\u589e"})]})}),Object(d.jsxs)("form",{style:{padding:"30px 24px"},ref:j,onSubmit:m,children:[Object(d.jsx)(T,{open:c}),Object(d.jsx)(N.a,{name:"lastName",value:O.lastName,label:"\u59d3\u6c0f",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{required:!0,name:"firstName",value:O.firstName,label:"\u540d\u5b57",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"phone",value:O.phone,type:"phone",label:"\u96fb\u8a71",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"email",value:O.email,type:"email",label:"\u4fe1\u7bb1",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"city",value:O.city,label:"\u57ce\u5e02",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"birth",value:O.birth,label:"\u751f\u65e5",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},onChange:f,style:{width:"210px"}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"note",value:O.note,label:"\u7b46\u8a18",multiline:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:f,style:{width:"100%"}})]})]})},Pe=n(128),Le=n(320),Ne=n(308),Ae=n(307),Re=n(309),Ee=n(93),Te=n.n(Ee),ze=n(177),Fe=n.n(ze),Be=n(45),qe=n.n(Be);function _e(){var e=Object(c.g)(),t=Object(c.i)().clientId,n=x.useCollection("purchase"),r=x.useDocument(),a=ne.useAction();if(x.useIsLoading())return Object(d.jsx)(T,{});var i=r(t);if(!i)return Object(d.jsx)(A.a,{variant:"h4",children:"\u4e0d\u5b58\u5728\u6b64\u5ba2\u6236"});var s={};n.list.filter((function(e){return e.clientId===t})).forEach((function(e){var t=e.purchaseDate+e.orderId;"undefined"===typeof s[t]&&(s[t]=[]),s[t].push(e)}));var o=Object.keys(s).sort((function(e,t){return new Date(t.slice(0,10))-new Date(e.slice(0,10))})).reduce((function(e,t){return e.push(s[t]),e}),[]).map((function(e){var t=0,n=e.map((function(e){var n=r(e.productId);return t+=n.price*e.amount,Object(d.jsxs)(Z.a,{button:!0,children:[Object(d.jsx)(Q.a,{className:"product-item-avatar",children:Object(d.jsx)(J.a,{src:n.img})}),Object(d.jsx)(X.a,{primary:n.name,secondary:"$".concat(n.price," x ").concat(e.amount)})]},"item-".concat(e.id))})),c=Object(Pe.a)();return Object(d.jsxs)(Le.a,{children:[Object(d.jsxs)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),children:[Object(d.jsx)(A.a,{style:{flexBasis:"50%"},children:e[0].purchaseDate}),Object(d.jsx)(A.a,{children:"\u91d1\u984d\uff1a$".concat(t)})]}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(W.a,{children:n})}),Object(d.jsx)(Re.a,{children:Object(d.jsx)(P.a,{size:"small",variant:"contained",color:"primary",children:"\u7de8\u8f2f"})})]},"order-".concat(c))}));return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{color:"inherit",onClick:function(){return e.push("/clients/")},children:Object(d.jsx)(Te.a,{})}),Object(d.jsx)(A.a,{variant:"h6",children:i.lastName+i.firstName}),Object(d.jsx)("div",{style:{flexGrow:1}}),Object(d.jsx)(V.a,{color:"inherit",children:Object(d.jsx)(Fe.a,{})})]})}),Object(d.jsxs)("div",{className:"panel-content",children:[Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),children:Object(d.jsx)(A.a,{children:"\u57fa\u672c\u8cc7\u6599"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsxs)("div",{style:{width:"100%"},children:[Object(d.jsxs)(A.a,{children:["\u59d3\u540d\uff1a",i.lastName+i.firstName]}),Object(d.jsxs)(A.a,{children:["\u751f\u65e5\uff1a",i.birth]}),Object(d.jsxs)(A.a,{children:["\u96fb\u8a71\uff1a",i.phone]}),Object(d.jsxs)(A.a,{children:["\u4fe1\u7bb1\uff1a",i.email]}),Object(d.jsxs)(A.a,{children:["\u57ce\u5e02\uff1a",i.city]}),Object(d.jsxs)(A.a,{children:["\u5099\u8a3b\uff1a",i.note]}),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("div",{style:{flexGrow:1}}),Object(d.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){return a.client.showEditDialog(!0)},children:"\u7de8\u8f2f"})]})]})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)(A.a,{variant:"h6",children:"\u8cfc\u8cb7\u7d00\u9304"}),Object(d.jsx)(P.a,{variant:"contained",color:"primary",onClick:function(){e.push("/clients/".concat(t,"/order/selectProducts"))},children:"\u8cfc\u8cb7"})]}),Object(d.jsx)("br",{}),o]})]})}var Ge=n(181),He=["id"],Me=Object(u.forwardRef)((function(e,t){return Object(d.jsx)(ye.a,Object(a.a)({direction:"up",ref:t},e))})),Ue=function(){var e=ne.useAction(),t=Object(u.useState)(!1),n=Object(r.a)(t,2),i=n[0],l=n[1],j=ne.useState((function(e){return e.client.showEditDialog})),b=Object(u.useRef)(null),h=Object(u.useState)({}),O=Object(r.a)(h,2),p=O[0],f=O[1],m=Object(c.i)().clientId,v=x.useDocument()(m);if(Object(u.useEffect)((function(){if(v){v.id;var e=Object(Ge.a)(v,He);f(e)}}),[v]),x.useIsLoading())return Object(d.jsx)(T,{});var g=function(e){f(Object(a.a)(Object(a.a)({},p),{},Object(be.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),l(!0),t.next=4,x.collection("client").doc(m).set(p);case 4:l(!1),e.client.showEditDialog(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(H.a,{fullScreen:!0,open:j,onClose:function(){return e.client.showEditDialog(!1)},TransitionComponent:Me,children:[Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{edge:"start",color:"inherit",onClick:function(){return e.client.showEditDialog(!1)},"aria-label":"close",children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u7de8\u8f2f\u5ba2\u6236"}),Object(d.jsx)(P.a,{autoFocus:!0,color:"inherit",onClick:function(){return Ie(b.current)},children:"\u78ba\u8a8d\u4fee\u6539"})]})}),Object(d.jsxs)("form",{style:{padding:"30px 24px"},ref:b,onSubmit:w,children:[Object(d.jsx)(T,{open:i}),Object(d.jsx)(N.a,{name:"lastName",value:p.lastName,label:"\u59d3\u6c0f",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{required:!0,name:"firstName",value:p.firstName,label:"\u540d\u5b57",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"phone",value:p.phone,type:"phone",label:"\u96fb\u8a71",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"email",value:p.email,type:"email",label:"\u4fe1\u7bb1",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"city",value:p.city,label:"\u57ce\u5e02",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"birth",value:p.birth,label:"\u751f\u65e5",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},onChange:g,style:{width:"210px"}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"note",value:p.note,label:"\u7b46\u8a18",multiline:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:g,style:{width:"100%"}})]})]})},Ve=n(313),Ye=n(311),Ke=n(312),$e=n(310),Je=function(){var e=ne.useState((function(e){return e.client.showDeleteDialog})),t=ne.useAction(),n=Object(c.i)().clientId,a=Object(c.g)(),i=Object(u.useState)(!1),l=Object(r.a)(i,2),j=l[0],b=l[1],h=function(){var e=Object(o.a)(s.a.mark((function e(c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),b(!0),e.prev=2,e.next=5,x.collection("client").doc(n).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:t.client.showDeleteDialog(!1),b(!1),a.push("/clients/");case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(H.a,{open:e,onClose:function(){return t.client.showDeleteDialog(!1)},children:[Object(d.jsx)($e.a,{children:"\u522a\u9664\u7528\u6236"}),Object(d.jsx)(Ye.a,{children:Object(d.jsx)(Ke.a,{children:"\u8acb\u554f\u60a8\u78ba\u5b9a\u8981\u522a\u9664\u9019\u500b\u5ba2\u6236\u7684\u8cc7\u6599\u55ce\uff1f"})}),Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(P.a,{color:"primary",onClick:function(){return t.client.showDeleteDialog(!1)},children:"\u53d6\u6d88"}),Object(d.jsx)(P.a,{color:"secondary",autoFocus:!0,onClick:h,children:"\u522a\u9664"})]}),Object(d.jsx)(T,{open:j})]})},We=n(23),Ze=(n(244),n(315)),Qe=n(314),Xe=n(126),et=n.n(Xe),tt=function(e,t){if("string"!==typeof t)throw new TypeError("".concat(e," should be a string"))},nt=function(e,t){if(tt(e,t),t.length<=0)throw new RangeError("".concat(e," should not be empty string"))},ct=function(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," should be a number"))},rt={createPurchase:function(e){var t=e.orderId,n=e.clientId,c=e.productId,r=e.amount,a=e.purchaseDate,i=e.remindDates,s=e.note;return nt("orderId",t),nt("clientId",n),nt("productId",c),function(e,t){if(ct(e,t),t<=0)throw new RangeError("".concat(e," should be a positive number"))}("amount",r),nt("date",a),function(e,t){if(!(Object.keys(t).length>0))throw new RangeError("".concat(e," should not be an empty array"))}("remindDates",i),tt("note",s),{orderId:t,clientId:n,productId:c,amount:r,purchaseDate:a,remindDates:i,note:s}}},at=n(85),it=n.n(at),st=function(e){var t=e.order,n=e.orderIndex,c=e.setOrderList,r=t.product,a=t.amount,i=ne.useAction(),s=function(e){return c((function(t){return Object(j.a)(t,(function(c){var r=c[n].amount+e;r<0?(c.splice(n,1),i.product.toggleProduct(t[n].product)):c[n].amount=r}))}))};return Object(d.jsxs)(Z.a,{children:[Object(d.jsx)(Q.a,{className:"product-item-avatar",children:Object(d.jsx)(J.a,{src:r.img})}),Object(d.jsx)(X.a,{className:"product-item-text",primary:r.name,secondary:r.catalog.name}),Object(d.jsxs)(Qe.a,{className:"product-item-amount",children:[Object(d.jsxs)(A.a,{className:"amount",children:["$",r.price," x ",a]}),Object(d.jsxs)(Ze.a,{color:"primary","aria-label":"outlined primary button group",children:[Object(d.jsx)(P.a,{onClick:function(){return s(1)},children:"+"}),Object(d.jsx)(P.a,{onClick:function(){return s(-1)},children:"-"})]})]})]})},ot=function(){var e=Object(c.g)(),t=Object(c.i)(),n=x.useDocument(),a=ne.useState((function(e){return e.productPage})),i=ne.useAction(),l=Object(u.useState)([]),j=Object(r.a)(l,2),b=j[0],h=j[1],O=Object(u.useState)(!1),p=Object(r.a)(O,2),m=p[0],v=p[1],g=Object(u.useState)(!1),w=Object(r.a)(g,2),y=w[0],I=w[1];if(Object(u.useEffect)((function(){var e=Object.keys(a.selectedItems).map((function(e){return{product:n(e),amount:1}}));h((function(t){return[].concat(Object(We.a)(t),Object(We.a)(e))}))}),[]),x.useIsLoading())return Object(d.jsx)(T,{});var C=n(t.clientId);if(!C)return Object(d.jsx)(A.a,{variant:"h4",children:"\u4e0d\u5b58\u5728\u6b64\u5ba2\u6236"});var k=b.reduce((function(e,t){return e+t.amount*t.product.price}),0),D=function(){return v(!1)},S=function(){var t=Object(o.a)(s.a.mark((function t(){var n,c,r,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(!0),n=x.batch(),c=Object(Pe.a)(),r=Object(f.a)(b),t.prev=4,r.s();case 6:if((a=r.n()).done){t.next=14;break}if(!((o=a.value).amount<=0)){t.next=10;break}return t.abrupt("continue",12);case 10:u=Array.from({length:o.amount},(function(e,t){return it()().add(t+2,"months").format("YYYY-MM-DD")})).reduce((function(e,t){var n=it()(t).year();return e[n]||(e[n]=[]),e[n].push(it()(t).month()),e}),{}),n.set(x.collection("purchase").doc(),rt.createPurchase({orderId:c,clientId:C.id,productId:o.product.id,amount:o.amount,purchaseDate:Ce(new Date),remindDates:u,note:""}));case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:return t.next=24,n.commit();case 24:i.product.clearSelectedProducts(),e.push("/clients/".concat(C.id));case 26:case"end":return t.stop()}}),t,null,[[4,16,19,22]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{color:"inherit",onClick:function(){return e.push("/clients/".concat(C.id,"/order/selectProducts"))},children:Object(d.jsx)(Te.a,{})}),Object(d.jsxs)(A.a,{variant:"h6",children:["\u8cfc\u8cb7\u7522\u54c1 (",C.lastName+C.firstName,")"]})]})}),Object(d.jsx)("div",{className:"panel-content",children:Object(d.jsx)(W.a,{children:b.map((function(e,t){return Object(d.jsx)(st,{order:e,orderIndex:t,setOrderList:h},t)}))})}),Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsxs)(A.a,{variant:"h6",children:["\u7e3d\u91d1\u984d\uff1a",k," \u5143"]}),Object(d.jsx)("div",{style:{flexGrow:1}}),Object(d.jsx)(V.a,{color:"inherit",disabled:k<=0,onClick:function(){return v(!0)},children:Object(d.jsx)(et.a,{})})]})}),Object(d.jsxs)(H.a,{fullScreen:!0,open:m,onClose:D,container:document.getElementById("reminder-app"),children:[Object(d.jsxs)($e.a,{onClose:D,children:["\u8cfc\u8cb7\u78ba\u8a8d\uff1a",k," \u5143"]}),Object(d.jsx)(Ye.a,{dividers:!0,children:y?Object(d.jsx)(T,{}):Object(d.jsx)(W.a,{children:b.filter((function(e){return e.amount>0})).map((function(e,t){var n=e.product,c=e.amount;return Object(d.jsxs)(Z.a,{children:[Object(d.jsx)(Q.a,{className:"product-item-avatar",children:Object(d.jsx)(J.a,{src:n.img})}),Object(d.jsx)(X.a,{primary:"".concat(t+1,". ").concat(n.name),secondary:"$".concat(n.price," x ").concat(c)})]},t)}))})}),Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(P.a,{autoFocus:!0,onClick:D,color:"secondary",children:"\u53d6\u6d88"}),Object(d.jsx)(P.a,{onClick:S,color:"primary",children:"\u78ba\u8a8d"})]})]})]})},ut=n(182),lt=n(178),jt=n(189),dt=n(263),bt=function(e){var t=e.data,n=e.index,c=e.style,r=t.selectedItems,a=t.toggleProduct,i=t.productList[n];return Object(d.jsxs)(Z.a,{button:!0,style:c,onClick:a(i),children:[Object(d.jsx)(dt.a,{children:Object(d.jsx)(jt.a,{color:"primary",checked:r.hasOwnProperty(i.id)})}),Object(d.jsx)(Q.a,{children:Object(d.jsx)(J.a,{src:i.img})}),Object(d.jsx)(X.a,{primary:i.name})]},n)},ht=function(){var e=Object(c.g)(),t=ne.useAction(),n=x.useCollection("product"),r=ne.useState((function(e){return e.productPage})),a=Object(c.i)(),i=x.useDocument();if(x.useIsLoading())return Object(d.jsx)(T,{});var s=i(a.clientId);if(!s)return Object(d.jsx)(A.a,{variant:"h4",children:"\u4e0d\u5b58\u5728\u6b64\u5ba2\u6236"});var o=n.list.filter((function(e){return e.name.toLowerCase().includes(r.searchInput)}));return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{color:"inherit",onClick:function(){t.product.setSearchInput(""),t.product.clearSelectedProducts(),e.push("/clients/".concat(s.id))},children:Object(d.jsx)(Te.a,{})}),Object(d.jsx)(A.a,{variant:"h6",children:"\u7522\u54c1\u9078\u55ae"}),Object(d.jsx)(ve,{searchInput:r.searchInput,onChange:function(e){return t.product.setSearchInput(e.target.value)}}),Object(d.jsx)(V.a,{color:"inherit",onClick:function(){e.push("/clients/".concat(s.id,"/order/quantities"))},children:Object(d.jsx)(et.a,{})}),Object(d.jsx)(P.a,{onClick:t.product.clearSelectedProducts,color:"secondary",children:"\u6e05\u7a7a\u9078\u9805"})]})}),Object(d.jsx)("div",{className:"panel-content",children:Object(d.jsx)(lt.a,{children:function(e){var n=e.height,c=e.width;return Object(d.jsx)(ut.a,{itemData:{selectedItems:r.selectedItems,toggleProduct:function(e){return function(){return t.product.toggleProduct(e)}},productList:o},height:n,width:c,itemSize:50,itemCount:o.length,children:bt})}})})]})},Ot=n(316),pt=n(179),xt=[{width:270,field:"product",headerName:"\u7522\u54c1"},{width:70,field:"amount",headerName:"\u6578\u91cf",type:"number"}],ft=function(){var e=ne.useAction(),t=x.useCollection("inventory"),n=x.useDocument();if(x.useIsLoading())return Object(d.jsx)(T,{});var c=t.list.map((function(e){var t=n(e.productId);return{id:e.id,product:t.name,amount:e.amount,price:t.price}}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)("div",{className:"panel-content",children:Object(d.jsx)(pt.a,{rows:c,columns:xt,autoHeight:!0,pageSize:9})}),Object(d.jsx)(de,{})]}),Object(d.jsx)(Ot.a,{className:"add-float-button",color:"primary",onClick:function(){return e.showAddInventoryDialog(!0)},children:Object(d.jsx)(te.a,{})})]})},mt=n(95),vt=n(131),gt=n(67),wt=n(107),yt=Object(u.forwardRef)((function(e,t){return Object(d.jsx)(ye.a,Object(a.a)({direction:"up",ref:t},e))})),It={productId:"",amount:"1"},Ct=function(){var e=ne.useAction(),t=Object(u.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],l=ne.useState((function(e){return e.addInventoryDialog})),j=x.useCollection("product"),b=Object(u.useRef)(null),h=Object(u.useState)(It),O=Object(r.a)(h,2),p=O[0],f=O[1],m=function(e){f(Object(a.a)(Object(a.a)({},p),{},Object(be.a)({},e.target.name,e.target.value)))},v=function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(!0),t.next=4,x.collection("inventory").add(Object(a.a)(Object(a.a)({},p),{},{amount:Number.parseInt(p.amount,10)}));case 4:f(It),i(!1),e.showAddInventoryDialog(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(H.a,{fullScreen:!0,open:l.show,onClose:function(){return e.showAddInventoryDialog(!1)},TransitionComponent:yt,children:[Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{edge:"start",color:"inherit",onClick:function(){return e.showAddInventoryDialog(!1)},"aria-label":"close",children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u65b0\u589e\u5eab\u5b58"}),Object(d.jsx)(P.a,{autoFocus:!0,color:"inherit",onClick:function(){return Ie(b.current)},children:"\u65b0\u589e"})]})}),Object(d.jsxs)("form",{style:{padding:"30px 24px"},ref:b,onSubmit:v,children:[Object(d.jsx)(T,{open:c}),Object(d.jsxs)(mt.a,{required:!0,variant:"outlined",style:{width:"100%"},children:[Object(d.jsx)(vt.a,{children:"\u7522\u54c1"}),Object(d.jsx)(wt.a,{name:"productId",value:p.productId,onChange:m,children:j.list.map((function(e){return Object(d.jsx)(gt.a,{value:e.id,children:e.name},e.id)}))})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{required:!0,value:p.amount,name:"amount",label:"\u6578\u91cf",variant:"outlined",type:"number",style:{width:"100%"},inputProps:{min:1},InputLabelProps:{shrink:!0},onChange:m})]})]})},kt=function(e){var t=e.data,n=Object(u.useState)([]),c=Object(r.a)(n,2),a=c[0],i=c[1],s=Object.entries(t).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object.entries(c).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(d.jsxs)(Ne.a,{children:[Object(d.jsx)(A.a,{children:n}),Object(d.jsx)(W.a,{children:c.map((function(e){return Object(d.jsxs)(Z.a,{button:!0,onClick:(t=e.id,function(){var e=a.indexOf(t),n=Object(We.a)(a);-1===e?n.push(t):n.splice(e,1),i(n)}),children:[Object(d.jsx)(dt.a,{children:Object(d.jsx)(jt.a,{checked:-1!==a.indexOf(e.id)})}),Object(d.jsx)(X.a,{primary:e.product,secondary:"* ".concat(e.amount)})]},e.id);var t}))})]},n)}));return Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),children:Object(d.jsx)(A.a,{children:n})}),s,Object(d.jsx)(Re.a,{children:Object(d.jsx)(P.a,{variant:"contained",size:"small",color:"primary",children:"\u79fb\u81f3\u4e0b\u500b\u6708"})})]},n)}));return 0===s.length?Object(d.jsx)(A.a,{children:"\u672c\u6708\u6c92\u6709\u8cfc\u8cb7\u63d0\u9192"}):s},Dt=function(){var e=x.useCollection("purchase"),t=x.useDocument(),n=it()().month()+1,c=Object(u.useState)(n),a=Object(r.a)(c,2),i=a[0],s=a[1],o=it()().year(),l=Object(u.useState)(o),j=Object(r.a)(l,2),b=j[0],h=j[1];if(x.useIsLoading())return Object(d.jsx)(T,{});for(var O=function(e,t){return e.reduce((function(e,n){return n[t]?(e[n[t]]||(e[n[t]]=[]),e[n[t]].push(n),e):e}),{})},p=function(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})},f={},m=p(O(e.list.filter((function(e){var t=e.remindDates?e.remindDates[b]:[];return!(!i||!t.includes(i))})).map((function(e){var n=t(e.clientId),c=t(e.productId);return{id:e.id,client:n.firstName,product:c.name,amount:e.amount,price:e.amount*c.price,date:e.purchaseDate,note:e.note}})),"client")),v=0,g=Object.entries(m);v<g.length;v++){var w=Object(r.a)(g[v],2),y=w[0],I=O(w[1],"date");f[y]=p(I)}return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsxs)("div",{className:"panel-content",children:[Object(d.jsx)("div",{children:"\u672c\u6708\u63d0\u9192\uff1a"}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(d.jsxs)(mt.a,{children:[Object(d.jsx)(vt.a,{children:"\u6708"}),Object(d.jsx)(wt.a,{value:i,onChange:function(e){return s(Number.parseInt(e.target.value))},children:[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return Object(d.jsx)(gt.a,{value:e,children:e},e)}))})]}),Object(d.jsxs)(mt.a,{children:[Object(d.jsx)(vt.a,{children:"\u5e74"}),Object(d.jsx)(wt.a,{value:b,onChange:function(e){return h(Number.parseInt(e.target.value))},children:Array.from({length:o-2020},(function(e,t){return t+2021})).reverse().map((function(e){return Object(d.jsx)(gt.a,{value:e,children:e},e)}))})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)(kt,{data:f})]}),Object(d.jsx)(de,{})]})},St=Object(u.forwardRef)((function(e,t){return Object(d.jsx)(ye.a,Object(a.a)({direction:"up",ref:t},e))})),Pt={clientId:"",productId:"",amount:"1",purchaseDate:Ce(new Date),note:""},Lt=function(){var e=ne.useAction(),t=Object(u.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],l=ne.useState((function(e){return e.addPurchaseDialog})),j=x.useCollection("client"),b=x.useCollection("product"),h=Object(u.useRef)(null),O=Object(u.useState)(Pt),p=Object(r.a)(O,2),f=p[0],m=p[1],v=function(e){m(Object(a.a)(Object(a.a)({},f),{},Object(be.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(!0),t.next=4,x.collection("purchase").add(Object(a.a)(Object(a.a)({},f),{},{amount:Number.parseInt(f.amount,10)}));case 4:m(Pt),i(!1),e.showAddPurchaseDialog(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(H.a,{fullScreen:!0,open:l.show,onClose:function(){return e.showAddPurchaseDialog(!1)},TransitionComponent:St,children:[Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(V.a,{edge:"start",color:"inherit",onClick:function(){return e.showAddPurchaseDialog(!1)},"aria-label":"close",children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u65b0\u589e\u8cfc\u8cb7"}),Object(d.jsx)(P.a,{autoFocus:!0,color:"inherit",onClick:function(){return Ie(h.current)},children:"\u8cfc\u8cb7"})]})}),Object(d.jsxs)("form",{style:{padding:"30px 24px"},ref:h,onSubmit:g,children:[Object(d.jsx)(T,{open:c}),Object(d.jsxs)(mt.a,{required:!0,variant:"outlined",style:{width:"100%"},children:[Object(d.jsx)(vt.a,{shrink:!0,children:"\u8cfc\u8cb7\u4eba"}),Object(d.jsx)(wt.a,{name:"clientId",value:f.clientId,onChange:v,children:j.list.map((function(e){return Object(d.jsx)(gt.a,{value:e.id,children:e.lastName+e.firstName},e.id)}))})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)(mt.a,{required:!0,variant:"outlined",style:{width:"100%"},children:[Object(d.jsx)(vt.a,{shrink:!0,children:"\u7522\u54c1"}),Object(d.jsx)(wt.a,{name:"productId",value:f.productId,onChange:v,children:b.list.map((function(e){return Object(d.jsx)(gt.a,{value:e.id,children:e.name},e.id)}))})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{required:!0,name:"amount",value:f.amount,label:"\u6578\u91cf",variant:"outlined",type:"number",inputProps:{min:1},InputLabelProps:{shrink:!0},onChange:v,style:{width:"100%"}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{required:!0,name:"purchaseDate",value:f.purchaseDate,label:"\u8cfc\u8cb7\u65e5\u671f",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},onChange:v,style:{width:"210px"}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(N.a,{name:"note",value:f.note,label:"\u7b46\u8a18",multiline:!0,variant:"outlined",InputLabelProps:{shrink:!0},onChange:v,style:{width:"100%"}})]})]})},Nt=n(317),At=n(319),Rt=n(318),Et=function(){var e=ne.useAction(),t=x.useState((function(e){return e.user}));return t.expirationDate>=Ce(new Date)?Object(d.jsxs)(Nt.a,{children:[Object(d.jsxs)(Rt.a,{children:[Object(d.jsx)(A.a,{variant:"h5",component:"h2",children:"\u8a02\u95b1\u72c0\u614b\uff1a\u8a02\u95b1\u4e2d"}),Object(d.jsx)("br",{}),"\u8a02\u95b1\u5230\u671f\u65e5\uff1a",t.expirationDate]}),Object(d.jsx)(At.a,{children:Object(d.jsx)(P.a,{color:"primary",children:"\u53d6\u6d88\u8a02\u95b1"})})]}):Object(d.jsxs)(Nt.a,{children:[Object(d.jsx)(Rt.a,{children:Object(d.jsx)(A.a,{variant:"h5",component:"h2",children:"\u8a02\u95b1\u72c0\u614b\uff1a\u672a\u8a02\u95b1"})}),Object(d.jsxs)(At.a,{children:[Object(d.jsx)(P.a,{color:"primary",onClick:Object(o.a)(s.a.mark((function e(){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.firebase.functions().httpsCallable("ecpay"),e.next=3,n({uid:t.uid,email:t.email,ClientBackURL:window.location.href,OrderResultURL:window.location.href});case 3:c=e.sent,document.write(c.data.html_form);case 5:case"end":return e.stop()}}),e)}))),children:"\u8a02\u95b1"}),Object(d.jsx)(P.a,{disabled:!0,color:"primary",onClick:function(){return e.showSubscriptionRuleDialog(!0)},children:"\u8a02\u95b1\u898f\u5247"})]})]})},Tt=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(d.jsx)(A.a,{variant:"h6",children:"\u5e38\u898b\u554f\u984c"})}),Object(d.jsx)("br",{}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u5982\u4f55\u52a0\u5165\u6703\u54e1\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u6309\u4e0b\u8a3b\u518a\u6309\u9215\uff0c\u4f9d\u7167\u6d41\u7a0b\u8f38\u5165\u5e33\u865f\u5bc6\u78bc\u9032\u884c\u8a3b\u518a\u3002\u78ba\u8a8d\u5b8c\u6210\u5f8c\u4f60\u5c31\u662f\u6703\u54e1\u4e86\uff01\u6240\u6709\u52a0\u5165\u7684\u6703\u54e1\u90fd\u53ef\u4ee5\u514d\u8cbb\u4f7f\u7528\u6211\u5011VIP\u670d\u52d9 3 \u500b\u6708\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(d.jsx)(A.a,{children:"\u5982\u4f55\u6210\u70baVIP\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u5728\u6703\u54e1\u5340\uff0c\u627e\u5230\u8a02\u95b1\u6309\u9215\uff0c\u9032\u5165\u8a02\u95b1\u6d41\u7a0b\u3002\u8a02\u95b1\u5b8c\u6210\u7576\u4e0b\u5373\u958b\u901a VIP \u4f7f\u7528\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u52a0\u5165VIP\u6709\u4ec0\u9ebc\u512a\u60e0\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u53ef\u4ee5\u4f7f\u7528\u63d0\u9192\u5340\u529f\u80fd\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"VIP\u6536\u8cbb\u65b9\u5f0f\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u5e74\u8a02\u95b1\uff1a\u65b0\u53f0\u5e63 1000\u5143\uff1b\u6708\u8a02\u95b1\uff1a\u65b0\u53f0\u5e63 99\u5143\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u5982\u4f55\u53d6\u6d88\u8a02\u95b1\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u5728\u6703\u54e1\u5340\uff0c\u6309\u4e0b\u53d6\u6d88\u8a02\u95b1\u6309\u9215\uff0c\u4e26\u7167\u6d41\u7a0b\u5b8c\u6210\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u5982\u4f55\u4f7f\u7528\u6211\u5011\u7684App\u7ba1\u7406\u5ba2\u6236\u7cfb\u7d71\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u5728\u5ba2\u6236\u5340\uff0c\u65b0\u589e\u5ba2\u6236\u59d3\u540d\uff1b\u5728\u5ba2\u6236\u8cc7\u6599\u9801\u9762\u6309\u8cfc\u8cb7\u6309\u9215\uff0c\u65b0\u589e\u5ba2\u6236\u7684\u7522\u54c1\u8a02\u55ae\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u5982\u4f55\u806f\u7d61\u5ba2\u670d\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u8acb\u5bc4\u4fe1\u5230\u5ba2\u670d\u7684 email \u4fe1\u7bb1\u3002"})})]}),Object(d.jsxs)(Le.a,{children:[Object(d.jsx)(Ae.a,{expandIcon:Object(d.jsx)(qe.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(d.jsx)(A.a,{children:"\u5fd8\u8a18\u5bc6\u78bc\u600e\u9ebc\u8fa6\uff1f"})}),Object(d.jsx)(Ne.a,{children:Object(d.jsx)(A.a,{children:"\u5728\u767b\u5165\u5340\uff0c\u6309\u5fd8\u8a18\u5bc6\u78bc\u6309\u9215\u4e26\u5b8c\u6210\u6d41\u7a0b\u3002"})})]})]})},zt=function(){var e=x.useState((function(e){return e.user})),t=Ce(new Date(e.creationTime));return Object(d.jsxs)("div",{className:"panel-container",children:[Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(A.a,{variant:"h6",children:"\u6703\u54e1\u8cc7\u8a0a\u8207\u5e38\u898b\u554f\u984c"}),Object(d.jsx)("div",{style:{flexGrow:1}})]})}),Object(d.jsxs)("div",{className:"panel-content",children:[Object(d.jsxs)(Nt.a,{children:[Object(d.jsxs)(Rt.a,{children:[Object(d.jsx)(A.a,{variant:"h5",component:"h2",children:"\u6703\u54e1\u8cc7\u6599"}),Object(d.jsx)("br",{}),Object(d.jsxs)(A.a,{children:["\u96fb\u5b50\u4fe1\u7bb1\uff1a",e.email]}),Object(d.jsxs)(A.a,{children:["\u5efa\u7acb\u65e5\u671f\uff1a",t,Object(d.jsx)("br",{})]})]}),Object(d.jsxs)(At.a,{children:[Object(d.jsx)(P.a,{color:"primary",children:"\u7de8\u8f2f"}),Object(d.jsx)(P.a,{color:"primary",onClick:x.logout,children:"\u767b\u51fa"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)(Et,{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(Tt,{}),Object(d.jsx)("br",{})]}),Object(d.jsx)(de,{})]})},Ft=Object(u.forwardRef)((function(e,t){return Object(d.jsx)(ye.a,Object(a.a)({direction:"up",ref:t},e))})),Bt=function(){var e=ne.useState((function(e){return e.subscriptionRuleDialog.show})),t=ne.useAction(),n=Object(u.useState)(!1),c=Object(r.a)(n,2),a=c[0],i=c[1];return Object(d.jsxs)(H.a,{fullScreen:!0,open:e,onClose:function(){return t.showSubscriptionRuleDialog(!1)},TransitionComponent:Ft,children:[Object(d.jsx)(M.a,{style:{position:"relative"},children:Object(d.jsx)(U.a,{children:Object(d.jsx)(A.a,{variant:"h6",style:{flex:1},children:"\u8a02\u95b1\u898f\u5247"})})}),Object(d.jsxs)(Ye.a,{onScroll:function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&i(!0)},children:[Object(d.jsx)(Ke.a,{children:"\u7b2c\u4e00\u689d\uff1a\u9019\u662f\u7b2c\u4e00\u689d\u7684\u5167\u5bb9"}),Object(d.jsx)(Ke.a,{children:"\u7b2c\u4e8c\u689d\uff1a\u9019\u662f\u7b2c\u4e8c\u689d\u7684\u5167\u5bb9"}),Object(d.jsx)(Ke.a,{children:"\u7b2c\u4e09\u689d\uff1a\u9019\u662f\u7b2c\u4e09\u689d\u7684\u5167\u5bb9"}),Object(d.jsx)(Ke.a,{children:"\u7b2c\u56db\u689d\uff1a\u9019\u662f\u7b2c\u56db\u689d\u7684\u5167\u5bb9"}),Object(d.jsx)(Ke.a,{children:"\u7b2c\u4e94\u689d\uff1a\u9019\u662f\u4e00\u689d\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5f88\u9577\u7684\u5167\u5bb9"})]}),Object(d.jsx)(Ve.a,{children:Object(d.jsx)(P.a,{disabled:!a,size:"large",variant:"contained",color:"primary",onClick:function(){t.showSubscriptionRuleDialog(!1),i(!1)},children:"\u6211\u77e5\u9053\u4e86"})})]})};var qt=function(){return S(),Object(d.jsx)("div",{id:"reminder-app",children:Object(d.jsxs)(c.d,{children:[Object(d.jsx)(c.b,{exact:!0,path:"/login",children:Object(d.jsx)(F,{})}),Object(d.jsx)(c.b,{exact:!0,path:"/signup",children:Object(d.jsx)(q,{})}),Object(d.jsx)(c.b,{exact:!0,path:"/forget_password",children:Object(d.jsx)($,{})}),Object(d.jsxs)(c.b,{exact:!0,path:"/clients",children:[Object(d.jsx)(we,{}),Object(d.jsx)(Se,{})]}),Object(d.jsxs)(c.b,{exact:!0,path:"/clients/:clientId",children:[Object(d.jsx)(_e,{}),Object(d.jsx)(Je,{}),Object(d.jsx)(Ue,{})]}),Object(d.jsx)(c.b,{exact:!0,path:"/clients/:clientId/order/quantities",children:Object(d.jsx)(ot,{})}),Object(d.jsxs)(c.b,{exact:!0,path:"/inventory",children:[Object(d.jsx)(ft,{}),Object(d.jsx)(Ct,{})]}),Object(d.jsxs)(c.b,{exact:!0,path:"/reminder",children:[Object(d.jsx)(Dt,{}),Object(d.jsx)(Lt,{})]}),Object(d.jsxs)(c.b,{exact:!0,path:"/account",children:[Object(d.jsx)(zt,{}),Object(d.jsx)(Bt,{})]}),Object(d.jsx)(c.b,{exact:!0,path:"/clients/:clientId/order/selectProducts",children:Object(d.jsx)(ht,{})}),Object(d.jsx)(c.a,{to:"/login"})]})})},_t=n(41),Gt=n(18);n.n(Gt).a.render(Object(d.jsx)(_t.a,{basename:"/reminder-app",children:Object(d.jsx)(x.Provider,{children:Object(d.jsx)(ne.Provider,{children:Object(d.jsx)(qt,{})})})}),document.getElementById("root"))}},[[247,1,2]]]);
//# sourceMappingURL=main.32007fe4.chunk.js.map